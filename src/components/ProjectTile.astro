---
import { Image } from "astro:assets";
const { item } = Astro.props;
const { data } = item;
const imageSrc = data.cover;
---

<div
  class="card bg-base-100 shadow-sm hover:shadow-lg transition-shadow duration-300 border-primary"
>
  <figure class="w-full h-64 p-3">
    {
      imageSrc ? (
        <Image
          src={imageSrc}
          alt={data.coverAlt || data.title}
          class="object-cover h-full w-full rounded-lg rounded-b-none"
        />
      ) : (
        <div class="w-full h-full bg-gray-200" />
      )
    }
  </figure>

  <div class="card-body justify-between">
    <div>
      <h3 class="card-title">{data.title}</h3>
      <p>{(data.description || "").slice(0, 150)}&nbsp;...</p>
      {
        data.tags && data.tags.length > 0 && (
          <div class="flex flex-wrap mt-2">
            {data.tags.map((tag: string, index: number) => (
              <>
                <span class="text-xs text-primary">{tag}</span>
                {index < data.tags.length - 1 && <span class="mx-2">^</span>}
              </>
            ))}
          </div>
        )
      }
    </div>
    <div class="card-actions justify-end">
      <a class="btn btn-accent" href={`/projects/${item.slug}`}>Read more</a>
    </div>
  </div>
</div>
