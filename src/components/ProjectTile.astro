---
import { Image } from "astro:assets";
const { item } = Astro.props;
const { data } = item;
---

<div class="card bg-base-100 shadow-xl">
  {
    data.cover && (
      <figure>
        <Image
          src={data.cover}
          alt={data.coverAlt || data.title}
          class="w-full h-48 object-cover"
          widths={[300, 400, 500]}
          sizes="(min-width: 768px) 384px, 100vw"
        />
      </figure>
    )
  }
  <div class="card-body">
    <h2 class="card-title">{data.title}</h2>
    <p>{data.description.substring(0, 150)}&nbsp;...</p>
    {
      data.tags && data.tags.length > 0 && (
        <div class="flex flex-wrap gap-2 mt-2">
          {data.tags.map((tag: string) => (
            <span class="badge badge-secondary badge-outline">{tag}</span>
          ))}
        </div>
      )
    }
    <div class="card-actions justify-end mt-4">
      {
        (data.repository || data.live) && (
          <div class="flex gap-2">
            {data.repository && (
              <a
                href={data.repository}
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-sm btn-outline"
              >
                Repository
              </a>
            )}
            {data.live && (
              <a
                href={data.live}
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-sm btn-primary"
              >
                Live Demo
              </a>
            )}
          </div>
        )
      }
      <a href={`/projects/${item.slug}`} class="btn btn-sm btn-ghost">
        Read more
      </a>
    </div>
  </div>
</div>
