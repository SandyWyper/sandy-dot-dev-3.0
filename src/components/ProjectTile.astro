---
import { Image } from "astro:assets";
const { item } = Astro.props;
const { data } = item;
const imageSrc = data.cover;
---

<div class="card bg-base-100 w-full border-2 border-primary">
  <figure class="w-full h-64">
    {
      imageSrc ? (
        <Image
          src={imageSrc}
          alt={data.coverAlt || data.title}
          class="object-cover h-full w-full"
        />
      ) : (
        <div class="w-full h-full bg-gray-200" />
      )
    }
  </figure>

  <div class="card-body justify-between">
    <div>
      <h3 class="card-title">{data.title}</h3>
      <p>{(data.description || "").slice(0, 150)}&nbsp;...</p>
      {
        data.tags && data.tags.length > 0 && (
          <div class="flex flex-wrap mt-2">
            {data.tags.map((tag: string, index: number) => (
              <>
                <span class="text-xs text-primary">{tag}</span>
                {index < data.tags.length - 1 && <span class="mx-2">^</span>}
              </>
            ))}
          </div>
        )
      }
    </div>
    <div class="card-actions justify-end">
      <a class="btn btn-accent" href={`/projects/${item.slug}`}>Read more</a>
    </div>
  </div>
</div>

<style is:global>
  .splide__track {
    overflow: visible;
  }
  .splide__arrows {
    top: -4rem;
    position: absolute;
    right: 0rem;
    flex-direction: row;
    display: flex;
    transform: translate(-50%, -100%);
    gap: 2rem;
  }
  .splide__arrow {
    transform: translate(0, 0);
    position: relative;
    background: none;
    border-radius: 0;
    opacity: 1;
  }
  .splide__arrow--prev {
    left: 0;
  }
  .splide__arrow--next {
    right: 0;
  }
  .splide__arrow svg {
    width: 32px;
    height: 32px;
    fill: var(--color-primary);
  }
</style>
